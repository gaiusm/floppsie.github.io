<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
"http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
<meta name="generator" content="automatically created by texi2tr, see www.nongnu.org/gm2">
<meta http-equiv="Content-Type" content="text/html; charset=US-ASCII">
<meta name="Content-Style" content="text/css">
<link rel="stylesheet" type="text/css" href="texi2tr.css" />
</head>

<body>

  <!-- site wide top running header menu -->
  <ul id="overview">
    <li class="home">
      <a href="homepage.html">Home</a>
    </li>

    <li>
      <a href="news.html">News</a>
    </li>
    <li>
      <a href="development.html">Development</a>
    </li>
    <li>
      <a href="community.html">Community</a>
    </li>
  </ul>
  <div id="heading">
      <h1>GNU LUK</h1>

    <div id="navigation">
      <table width="100%" cellpadding="2" cellspacing="2">
	<tr valign="middle">

	  <td><a accesskey="p" href="dependencies.html"><img width="48" alt="Prev" src="prev.png" border="0" height="48"></img></a></td>
	  <td align="right"><a accesskey="n" href="lab_exercises.html"><img width="48" alt="Next" src="next.png" border="0" height="48"></img></a></td></tr></table></div><div id="tabmenu">
<ul id="tab">
<li><a href="about.html"><span>About</span></a></li>
<li><a href="obtaining.html"><span>Obtaining</span></a></li>
<li><a href="dependencies.html"><span>Dependencies</span></a></li>
<li class="selected"><a href="building.html"><span>Building</span></a></li>
<li><a href="lab_exercises.html"><span>Lab exercises</span></a></li>
<li><a href="licence.html"><span>Licence</span></a></li>
<li><a href="gnu_project.html"><span>GNU Project</span></a></li>
<li><a href="libraries.html"><span>Libraries</span></a></li>
<li><a href="indices.html"><span>Indices</span></a></li>

</ul>
</div>
</div>
 <div class="page">
  <div class="plain">
<a name="building.html"></a>
<p>You can configure LUK by:
</p>

<pre>$ mkdir -p build-luk $HOME/opt
$ cd build-luk
$ ../student-luk-1.0.3/configure --prefix=/usr
</pre>

<p>The above must be done if any change in
<tt>student-luk-1.0.3/Makefile.in</tt> is made. For example in
order to undertake the various lab exercises you will need to set the
<tt>APPLICATION</tt> variable inside <tt>Makefile.in</tt>.
</p>

<p>It would be sensible to now check which directory you are in via:
</p>

<pre>$ pwd
</pre>

<p>Write down the output of <tt>pwd</tt> as you will need to come back to
this directory next time to work on LUK.
</p>

<p>To build LUK type:
</p>

<pre>$ make
</pre>

<p>Once this compiles cleanly the LUK image needs to be placed onto a usb
memory stick. Note that this will <b>completely trash</b> the usb
memory stick! You can reuse the memory stick of course - but it will
require reformatting. Please use a spare memory stick and physically
mark it to avoid any mistakes!
</p>

<p>To place the LUK image onto the usb memory stick you can either use an
Ubuntu client (in J204/J202/J208/J210) or if you are in J203 switch to
the console of the ltsp client.
</p>

<p>The ltsp console can be activated by pressing <tt>&lt;alt&gt;&lt;ctrl&gt;&lt;f1&gt;</tt>.
You can switch back to the graphics mode via <tt>&lt;alt&gt;&lt;f7&gt;</tt>.
Assuming you are now at the console on the ltsp client, login and
change to the correct directory.
</p>

<pre>cd <tt>build directory you wrote down</tt>
make bootusb
</pre>

<p>Notice that you will need to modify your <tt>build-luk/Makefile</tt>
to reflect the usb device (most likely <tt>/dev/sdb</tt>).
Open up <tt>build-luk/Makefile</tt> in your favourite editor and
change the line:
</p>

<pre># set USBDEVICE to your usb device
#
USBDEVICE=/dev/rawusb
</pre>

<p>to
</p>

<pre># set USBDEVICE to your usb device
#
USBDEVICE=/dev/sdb
</pre>

<p>or the appropriate device. You should be able to see the device by
typing the following at the command line:
</p>

<pre>$ df -h
/dev/sdb      1424   1381    43  97% /media/foobar
</pre>

<p>which indicates the <tt>/dev/sdb</tt> is mounted onto <tt>/media/foobar</tt>.
</p>

<p>You will be prompted to press enter to confirm that you are about to
trash the contents of the usb memory stick and then it will place LUK
onto the device. Now find an unused computer in and place the usb
memory stick into the usb port and reboot the computer. You should
see some bios diagnostics and then some messages saying the micro
kernel is coming to life.
</p>

  </div>
 </div>
</div>
</body>
</html>
